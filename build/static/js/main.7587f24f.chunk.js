(this.webpackJsonpchatify=this.webpackJsonpchatify||[]).push([[0],{151:function(e,t,a){},167:function(e,t,a){},168:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),o=a(17),i=a.n(o),l=(a(151),a(12)),r=a(227),s=a(58),d=a(238),j=a(237),u=a(230),b=a(251),p=a(248),h=a(228),m=a(120),x=a.n(m),f=a(235),g=a(66),O=a(8),v=a(19),y=a(239),C=a(130),N=a(233),k=a(250),S=a(236),w=a(234),T=a(224),I=a(172),D=a(231),B=a(229),L=a(232),R=a(118),E=a.n(R),z=a(119),G=a.n(z),M=a(116),U=a.n(M),W=a(48),A=(a(152),a(110),a(169),new W.a.auth.GoogleAuthProvider),F=W.a.initializeApp({apiKey:"AIzaSyATn5s8p5qW2Sgalzgey0GdXQI0pBCVrn8",authDomain:"chat-app-282fe.firebaseapp.com",projectId:"chat-app-282fe",storageBucket:"chat-app-282fe.appspot.com",messagingSenderId:"681253196065",appId:"1:681253196065:web:f0baaa57e317ab297fee60",measurementId:"G-7E6KHTTYXB"}).firestore(),H=W.a.auth(),P=W.a.storage(),J=a(23),q=a(117),Y=a(84),K=a(226),X=a(218),_=a(225),Q=a(222),V=a(246),Z=a(221),$=a(4);var ee=function(e){var t=e.create,a=e.manage,c=Object(n.useState)(!0),o=Object(l.a)(c,2),i=o[0],r=o[1],s=Object(n.useState)(""),d=Object(l.a)(s,2),j=d[0],u=d[1],b=function(){r(!1),a()},p=function(e){e.preventDefault(),j&&(t(j),a())};return Object($.jsx)("div",{children:Object($.jsxs)(X.a,{open:i,onClose:b,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object($.jsx)(Z.a,{id:"alert-dialog-title",children:"Create A New Channel"}),Object($.jsx)(Q.a,{children:Object($.jsx)("form",{autoComplete:"off",onSubmit:p,children:Object($.jsx)(V.a,{id:"outlined-basic",label:"Enter Channel Name",fullWidth:!0,margin:"normal",variant:"outlined",required:!0,value:j,style:{backgroundColor:"rgb(45 45 73)",borderRadius:"5px"},onChange:function(e){u(e.target.value)}})})}),Object($.jsxs)(_.a,{children:[Object($.jsx)(K.a,{onClick:b,color:"primary",style:{color:"white"},children:"Cancel"}),Object($.jsx)(K.a,{onClick:function(e){p(e)},type:"submit",color:"primary",autoFocus:!0,variant:"contained",children:"Create"})]})]})})},te=a(132),ae=a(249),ne=a(83),ce=a.n(ne),oe=Object(r.a)((function(e){return{nested:{paddingLeft:e.spacing(4)},iconDesign:{fontSize:"1.5em",color:"#cb43fc"},primary:{color:"#cb43fc"}}}));var ie=function(){var e=oe(),t=c.a.useState(!0),a=Object(l.a)(t,2),o=a[0],i=a[1],r=Object(n.useState)([]),s=Object(l.a)(r,2),d=s[0],j=s[1],b=Object(n.useState)(!1),p=Object(l.a)(b,2),m=p[0],x=p[1],f=Object(J.f)(),g=Object(n.useState)(!1),O=Object(l.a)(g,2),v=O[0],y=O[1];Object(n.useEffect)((function(){F.collection("channels").orderBy("channelName","asc").onSnapshot((function(e){j(e.docs.map((function(e){return{channelName:e.data().channelName,id:e.id}})))}))}),[]);var C=function(){x(!m)},N=function(){y(!v)};return Object($.jsxs)("div",{children:[Object($.jsx)(ae.a,{anchorOrigin:{vertical:"top",horizontal:"center"},open:v,onClose:N,TransitionComponent:te.a,message:"Room Name Already Exits!!",action:Object($.jsx)(h.a,{"aria-label":"close",color:"inherit",onClick:N,children:Object($.jsx)(ce.a,{})})},te.a),m?Object($.jsx)(ee,{create:function(e){if(e){if(""===(e=e.toLowerCase().trim()))return void N();for(var t=0;t<d.length;t++)if(e===d[t].channelName)return void N();F.collection("channels").add({channelName:e.toLowerCase()}).then((function(e){})).then((function(e){}))}},manage:C}):null,Object($.jsxs)(I.a,{style:{paddingTop:0,paddingBottom:0},children:[Object($.jsx)(B.a,{primary:"Create New Group"}),Object($.jsx)(h.a,{edge:"end","aria-label":"add",onClick:C,children:Object($.jsx)(U.a,{className:e.primary})})]}),Object($.jsx)(u.a,{}),Object($.jsxs)(T.a,{component:"nav","aria-labelledby":"nested-list-subheader",children:[Object($.jsxs)(I.a,{button:!0,onClick:function(){i(!o)},children:[Object($.jsx)(D.a,{children:Object($.jsx)(q.a,{className:e.iconDesign})}),Object($.jsx)(B.a,{primary:"Groups",style:{color:"#8e9297"}}),o?Object($.jsx)(E.a,{className:e.primary}):Object($.jsx)(G.a,{className:e.primary})]}),Object($.jsx)(L.a,{in:o,timeout:"auto",children:Object($.jsx)(T.a,{component:"div",disablePadding:!0,children:d.map((function(t){return Object($.jsxs)(I.a,{button:!0,className:e.nested,onClick:function(){return e=t.id,void f.push("/channel/".concat(e));var e},children:[Object($.jsx)(D.a,{style:{minWidth:"30px"},children:Object($.jsx)(Y.a,{className:e.iconDesign,style:{color:"#b9bbbe"}})}),Object($.jsx)(B.a,{primary:t.channelName===t.channelName.substr(0,12)?t.channelName:"".concat(t.channelName.substr(0,12),"..."),style:{color:"#dcddde"}})]},t.id)}))})})]})]})},le=a(122),re=a(121),se=a(47);var de=function(e){var t=e.toggler,a=e.alert,c=Object(n.useState)(!0),o=Object(l.a)(c,2),i=o[0],r=o[1],s=Object(n.useState)(""),d=Object(l.a)(s,2),j=d[0],u=d[1],b=Object(n.useState)(""),p=Object(l.a)(b,2),h=p[0],m=p[1],x=Object(n.useState)(""),f=Object(l.a)(x,2),g=f[0],O=f[1],v=Object(n.useState)(""),y=Object(l.a)(v,2),C=y[0],N=y[1],k=function(){r(!1),t()};return Object(n.useEffect)((function(){var e=JSON.parse(localStorage.getItem("userDetails"));u(e.name),m(e.displayName),O(e.email),N(e.uid)}),[]),Object($.jsx)("div",{children:Object($.jsxs)(X.a,{open:i,onClose:k,"aria-labelledby":"form-dialog-title",children:[Object($.jsx)(Z.a,{id:"form-dialog-title",children:"Edit User Profile"}),Object($.jsx)(Q.a,{children:Object($.jsxs)("form",{autoComplete:"off",children:[Object($.jsx)(V.a,{id:"outlined-basic",label:"Name",fullWidth:!0,margin:"normal",variant:"outlined",disabled:!0,value:j,style:{backgroundColor:"rgb(45, 45, 73)",borderRadius:"5px",color:"#a6a6a6"}}),Object($.jsx)(V.a,{id:"outlined-basic",label:"Email",fullWidth:!0,margin:"normal",variant:"outlined",disabled:!0,value:g,style:{backgroundColor:"rgb(45, 45, 73)",borderRadius:"5px",color:"#a6a6a6"}}),Object($.jsx)(V.a,{id:"outlined-basic",label:"Display Name",fullWidth:!0,margin:"normal",variant:"outlined",value:h,style:{backgroundColor:"rgb(45, 45, 73)",borderRadius:"5px"},onChange:function(e){m(e.target.value)}})]})}),Object($.jsxs)(_.a,{children:[Object($.jsx)(K.a,{onClick:k,style:{color:"white"},children:"Cancel"}),Object($.jsx)(K.a,{onClick:function(e){return function(e){e.preventDefault(),F.collection("users").doc(C).update({displayName:h}).then((function(e){a()})).catch((function(e){console.log(e)})),r(!1),t()}(e)},color:"primary",variant:"contained",children:"Update"})]})]})})},je=240,ue=Object(O.a)((function(e){return{badge:{backgroundColor:"#44b700",color:"#44b700",boxShadow:"0 0 0 2px ".concat(e.palette.background.paper),"&::after":{position:"absolute",top:0,left:0,width:"100%",height:"100%",borderRadius:"50%",border:"1px solid currentColor",content:'""'}},"@keyframes ripple":{"0%":{transform:"scale(.8)",opacity:1},"100%":{transform:"scale(2.4)",opacity:0}}}}))(N.a),be=Object(r.a)((function(e){var t;return{root:{display:"flex"},avatarGrid:{paddingTop:"20px",paddingLeft:"5px",paddingBottom:"20px",color:"#dcddde"},avatarIcon:{display:"flex",paddingLeft:"10px",paddingRight:"10px"},avatarName:{fontSize:"1em",paddingLeft:"12px",paddingTop:"8px"},avatarDisplayName:{alignSelf:"center",paddingLeft:"10px",fontWeight:"600"},purple:{color:e.palette.getContrastText(w.a[500]),backgroundColor:"#3f51b5"},drawer:Object(s.a)({},e.breakpoints.up("sm"),{width:je,flexShrink:0}),appBar:(t={},Object(s.a)(t,e.breakpoints.up("sm"),{width:"calc(100% - ".concat(je,"px)"),marginLeft:je}),Object(s.a)(t,"backgroundColor","#22273b"),Object(s.a)(t,"color","#dcddde"),Object(s.a)(t,"boxShadow","0 1px 0 rgba(4,4,5,0.2),0 1.5px 0 rgba(6,6,7,0.05),0 2px 0 rgba(4,4,5,0.05);"),t),menuButton:Object(s.a)({marginRight:e.spacing(2)},e.breakpoints.up("sm"),{display:"none"}),toolbar:e.mixins.toolbar,drawerPaper:{width:je,backgroundColor:"#171c2e",color:"white"},sideToolBar:{backgroundColor:"#171c2e",color:"#fff",lineHeight:1.6,boxShadow:"0 1px 0 rgba(4,4,5,0.2),0 1.5px 0 rgba(6,6,7,0.05),0 2px 0 rgba(4,4,5,0.05);",minHeight:"50px"},sideToolBarText:{letterSpacing:"0.2em",fontWeight:"900"},title:{flexGrow:1}}}));var pe=function(e){var t=e.window,a=e.uid,o=be(),i=Object(v.a)(),r=c.a.useState(!1),s=Object(l.a)(r,2),m=s[0],O=s[1],N=c.a.useState(null),w=Object(l.a)(N,2),T=w[0],I=w[1],D=Object(n.useState)([]),B=Object(l.a)(D,2),L=B[0],R=B[1],E=Object(n.useState)(!1),z=Object(l.a)(E,2),G=z[0],M=z[1],U=Object(n.useState)(!1),W=Object(l.a)(U,2),A=W[0],P=W[1],J=Boolean(T);Object(n.useEffect)((function(){F.collection("users").doc(a).onSnapshot((function(e){R(e.data()),localStorage.setItem("userDetails",JSON.stringify(e.data()))}))}),[a]);var q=function(){O(!m)},Y=function(){M(!G)},K=function(){P(!A)},X=L&&Object($.jsxs)("div",{children:[Object($.jsx)(f.a,{className:o.sideToolBar,children:Object($.jsx)(g.a,{variant:"h6",className:o.sideToolBarText,children:"Group Chat"})}),Object($.jsx)(u.a,{}),Object($.jsxs)(S.a,{className:o.avatarGrid,children:[Object($.jsxs)("div",{className:o.avatarIcon,children:[Object($.jsx)(ue,{overlap:"circle",anchorOrigin:{vertical:"bottom",horizontal:"right"},variant:"dot",children:Object($.jsx)(k.a,{alt:L.name,src:L.photoURL,className:o.purple})}),Object($.jsx)(g.a,{variant:"h6",className:o.avatarDisplayName,children:L.displayName})]}),Object($.jsxs)("div",{children:[Object($.jsx)(g.a,{variant:"h4",className:o.avatarName,children:L.name}),Object($.jsx)(g.a,{variant:"h4",className:o.avatarName,children:L.email})]})]}),Object($.jsx)(u.a,{}),Object($.jsx)(ie,{}),Object($.jsx)(u.a,{})]}),_=void 0!==t?function(){return t().document.body}:void 0;return Object($.jsxs)("div",{className:o.root,children:[Object($.jsx)(j.a,{}),Object($.jsx)(ae.a,{anchorOrigin:{vertical:"top",horizontal:"center"},open:A,onClose:K,TransitionComponent:te.a,message:"Display Name Updated Successfully",action:Object($.jsx)(h.a,{"aria-label":"close",color:"inherit",onClick:K,children:Object($.jsx)(ce.a,{})})},te.a),G?Object($.jsx)(de,{toggler:Y,alert:K}):null,Object($.jsx)(d.a,{position:"fixed",className:o.appBar,children:Object($.jsxs)(f.a,{style:{minHeight:"50px"},children:[Object($.jsx)(h.a,{color:"inherit","aria-label":"open drawer",edge:"start",onClick:q,className:o.menuButton,children:Object($.jsx)(x.a,{})}),Object($.jsx)(g.a,{variant:"h6",className:o.title,children:Object($.jsx)(se.b,{to:"/",style:{textDecoration:"none",color:"#dcddde"},children:"Home"})}),Object($.jsxs)("div",{children:[Object($.jsxs)(h.a,{"aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:function(e){I(e.currentTarget)},color:"inherit",children:[" ",Object($.jsx)(k.a,{alt:L.name,src:L.photoURL,className:o.purple})]}),Object($.jsxs)(C.a,{id:"menu-appbar",anchorEl:T,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"center"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"center"},open:J,onClose:function(){I(null)},children:[Object($.jsxs)(y.a,{onClick:Y,children:[Object($.jsx)(re.a,{})," \xa0 Edit Profile"]}),Object($.jsxs)(y.a,{onClick:function(){H.signOut().then((function(){localStorage.clear()})).catch((function(e){}))},children:[Object($.jsx)(le.a,{})," \xa0 Sign Out of Group Chatting"]})]})]})]})}),Object($.jsxs)("nav",{className:o.drawer,"aria-label":"chat rooms",children:[Object($.jsx)(p.a,{smUp:!0,implementation:"css",children:Object($.jsx)(b.a,{container:_,variant:"temporary",anchor:"rtl"===i.direction?"right":"left",open:m,onClose:q,classes:{paper:o.drawerPaper},ModalProps:{keepMounted:!0},children:X})}),Object($.jsx)(p.a,{xsDown:!0,implementation:"css",children:Object($.jsx)(b.a,{classes:{paper:o.drawerPaper},variant:"permanent",open:!0,children:X})})]})]})},he=a(39),me=a(240);var xe=function(e){var t=e.msgId,a=e.text,c=e.deleteMsg,o=e.handleModal,i=e.postImg,r=Object(n.useState)(!0),s=Object(l.a)(r,2),d=s[0],j=s[1],u=function(){j(!1),o()};return Object($.jsx)("div",{children:Object($.jsxs)(X.a,{open:d,onClose:u,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object($.jsx)(Z.a,{id:"alert-dialog-title",children:"Are you sure you want to delete the message?"}),Object($.jsxs)(Q.a,{children:[Object($.jsx)(me.a,{id:"alert-dialog-description",style:{color:"white",fontSize:"1.2rem"},children:a}),i?Object($.jsx)("img",{src:i,alt:"img",style:{height:"200px",width:"250px",borderRadius:"4px"}}):null]}),Object($.jsxs)(_.a,{children:[Object($.jsx)(K.a,{onClick:u,style:{color:"white"},children:"Cancel"}),Object($.jsx)(K.a,{onClick:function(){c(t),o()},color:"primary",autoFocus:!0,variant:"contained",children:"Delete"})]})]})})},fe=a(123),ge=Object(r.a)((function(e){return{root:{flexGrow:1,position:"relative",padding:"8px"},paper:{padding:"10px","&:hover":{backgroundColor:"#1f2436"}},avatar:{display:"inline-block",verticalAlign:"top"},chat:{display:"inline-block",paddingLeft:"1rem",width:"calc(100% - 50px)",wordBreak:"break-all"},chatHeading:{marginBlockStart:0,marginBlockEnd:0,display:"inline-block",fontSize:"1rem",fontWeight:"600",color:"white"},chatTimming:{marginBlockStart:0,marginBlockEnd:0,display:"inline-block",paddingLeft:"0.5em",color:"white"},chatText:{color:"#dcddde"},purple:{color:e.palette.getContrastText(w.a[500]),backgroundColor:"#3f51b5"},emojiDiv:{position:"absolute",right:0,top:0},emojiDivInner:{position:"absolute",right:0,padding:"0 35px 0 32px"},emojiBtn:{fontSize:"1.1rem",color:"rgb(255 195 54)"},allEmoji:{backgroundColor:"#2d2e31ba",borderRadius:"5px",paddingLeft:"2px",paddingRight:"2px",display:"flex"},countEmojiBtn:{padding:"3px",borderRadius:"4px",fontSize:"0.8em",backgroundColor:"#ffffff4a",color:"#cacaca",paddingLeft:"5px",paddingRight:"5px","&:hover":{backgroundColor:"#ffffff4a",color:"#e7e7e7"}}}}));var Oe=function(e){var t=e.values,a=e.msgId,c=Object(n.useState)({display:"none"}),o=Object(l.a)(c,2),i=o[0],r=o[1],s=Object(n.useState)(!1),d=Object(l.a)(s,2),j=d[0],u=d[1],b=ge(),p=JSON.parse(localStorage.getItem("userDetails")).uid,m=t.uid,x=t.timestamp.toDate(),f=x.getDate(),g=x.getFullYear(),O=x.getMonth(),v=x.getHours(),y=x.getMinutes(),C="".concat(f,"/").concat(O,"/").concat(g,"   ").concat(v,":").concat(y),N=t.likeCount,w=t.fireCount,T=t.heartCount,I=t.likes[p],D=t.fire[p],B=t.heart[p],L=t.postImg,R=Object(J.g)().id,E=I?{color:"#8ff879",backgroundColor:"#545454"}:null,z=B?{color:"#ff527d",backgroundColor:"#545454"}:null,G=D?{color:"#ffc336",backgroundColor:"#545454"}:null,M=function(){u(!j)},U=function(){var e=F.collection("channels").doc(R).collection("messages").doc(a);return B?F.runTransaction((function(t){return t.get(e).then((function(a){if(a){var n=a.data().heartCount-1,c=a.data().heart?a.data().heart:{};c[p]=!1,t.update(e,{heartCount:n,heart:c})}else console.log("doc not found")}))})).then((function(){console.log("Disiked")})).catch((function(e){console.log(e)})):F.runTransaction((function(t){return t.get(e).then((function(a){if(a){var n=a.data().heartCount+1,c=a.data().heart?a.data().heart:{};c[p]=!0,t.update(e,{heartCount:n,heart:c})}else console.log("doc not found")}))})).then((function(){console.log("Liked")})).catch((function(e){console.log(e)}))},W=function(){var e=F.collection("channels").doc(R).collection("messages").doc(a);return D?F.runTransaction((function(t){return t.get(e).then((function(a){if(a){var n=a.data().fireCount-1,c=a.data().fire?a.data().fire:{};c[p]=!1,t.update(e,{fireCount:n,fire:c})}else console.log("doc not found")}))})).then((function(){console.log("Disiked")})).catch((function(e){console.log(e)})):F.runTransaction((function(t){return t.get(e).then((function(a){if(a){var n=a.data().fireCount+1,c=a.data().fire?a.data().fire:{};c[p]=!0,t.update(e,{fireCount:n,fire:c})}else console.log("doc not found")}))})).then((function(){console.log("Liked")})).catch((function(e){console.log(e)}))},A=function(){var e=F.collection("channels").doc(R).collection("messages").doc(a);return I?F.runTransaction((function(t){return t.get(e).then((function(a){if(a){var n=a.data().likeCount-1,c=a.data().likes?a.data().likes:{};c[p]=!1,t.update(e,{likeCount:n,likes:c})}else console.log("doc not found")}))})).then((function(){console.log("Disiked")})).catch((function(e){console.log(e)})):F.runTransaction((function(t){return t.get(e).then((function(a){if(a){var n=a.data().likeCount+1,c=a.data().likes?a.data().likes:{};c[p]=!0,t.update(e,{likeCount:n,likes:c})}else console.log("doc not found")}))})).then((function(){console.log("Liked")})).catch((function(e){console.log(e)}))};return Object($.jsxs)(S.a,{item:!0,xs:12,className:b.root,children:[j?Object($.jsx)(xe,{msgId:a,text:t.text,postImg:L,deleteMsg:function(e){F.collection("channels").doc(R).collection("messages").doc(e).delete().then((function(e){console.log("deleted successfully")})).catch((function(e){console.log(e)}))},handleModal:M}):null,Object($.jsxs)("div",{className:b.paper,onMouseEnter:function(e){r({display:"block"})},onMouseLeave:function(e){r({display:"none"})},children:[Object($.jsx)("div",{className:b.avatar,children:Object($.jsx)(k.a,{alt:t.userName,src:t.userImg,className:b.purple})}),Object($.jsxs)("div",{className:b.chat,children:[Object($.jsxs)("div",{children:[Object($.jsx)("h6",{className:b.chatHeading,children:t.userName}),Object($.jsx)("p",{className:b.chatTimming,children:C})]}),Object($.jsx)("div",{className:b.chatText,children:t.text.split("\n").map((function(e,t){return Object($.jsx)("div",{children:Object($.jsx)(fe.a,{target:"_blank",rel:"noreferrer noopener",children:e})},t)}))}),Object($.jsx)(S.a,{item:!0,xs:12,md:12,style:{paddingTop:"5px"},children:L?Object($.jsx)("img",{src:L,alt:"user",style:{height:"30vh",width:"auto",borderRadius:"4px"}}):null}),Object($.jsxs)("div",{style:{paddingTop:"5px",display:"flex"},children:[N>0?Object($.jsx)("div",{style:{padding:"3px"},children:Object($.jsxs)(h.a,{component:"span",onClick:A,className:b.countEmojiBtn,style:E,children:[Object($.jsx)(he.d,{}),Object($.jsx)("div",{style:{paddingLeft:"2px"},children:N})]})}):null,w>0?Object($.jsx)("div",{style:{padding:"3px"},children:Object($.jsxs)(h.a,{component:"span",onClick:W,className:b.countEmojiBtn,style:G,children:[Object($.jsx)(he.b,{}),Object($.jsx)("div",{style:{paddingLeft:"2px"},children:w})]})}):null,T>0?Object($.jsx)("div",{style:{padding:"3px"},children:Object($.jsxs)(h.a,{component:"span",onClick:U,className:b.countEmojiBtn,style:z,children:[Object($.jsx)(he.c,{}),Object($.jsx)("div",{style:{paddingLeft:"2px"},children:T})]})}):null]})]}),Object($.jsx)("div",{className:b.emojiDiv,style:i,children:Object($.jsx)("div",{className:b.emojiDivInner,children:Object($.jsxs)("div",{className:b.allEmoji,children:[Object($.jsx)(h.a,{component:"span",style:{padding:"4px"},onClick:A,children:Object($.jsx)(he.d,{className:b.emojiBtn})}),Object($.jsx)(h.a,{component:"span",style:{padding:"4px"},onClick:W,children:Object($.jsx)(he.b,{className:b.emojiBtn})}),Object($.jsx)(h.a,{component:"span",style:{padding:"4px"},onClick:U,children:Object($.jsx)(he.c,{className:b.emojiBtn})}),p===m?Object($.jsx)(h.a,{component:"span",style:{padding:"4px"},onClick:M,children:Object($.jsx)(he.a,{className:b.emojiBtn,color:"#c3c3c3f0"})}):null]})})})]})]})},ve=a(124),ye=a(127),Ce=a(126),Ne=a(129),ke=a(125),Se=a(241),we=a(247),Te=Object(r.a)((function(e){return{displayImage:{height:"105px",width:"180px"},imageName:{paddingLeft:"15px",fontSize:"1.3em"},imageDiv:{marginLeft:"16px",marginRight:"16px",marginTop:"-33px"}}}));var Ie=function(e){var t=e.setState,a=e.file,c=Object(J.g)(),o=Te(),i=Object(n.useState)(!0),r=Object(l.a)(i,2),s=r[0],d=r[1],j=Object(n.useState)(0),u=Object(l.a)(j,2),b=u[0],p=u[1],h=Object(n.useState)({display:"none"}),m=Object(l.a)(h,2),x=m[0],f=m[1],O=Object(n.useState)(""),v=Object(l.a)(O,2),y=v[0],C=v[1],N=function(){d(!1),t()},k=URL.createObjectURL(a),S=function(e){e.preventDefault(),f({display:"block"});var t=P.ref("images/".concat(a.name)).put(a);t.on("state_changed",(function(e){var t=e.bytesTransferred/e.totalBytes*100;p(t)}),(function(e){console.log(e)}),(function(){t.snapshot.ref.getDownloadURL().then((function(e){!function(e){if(c.id){var t=JSON.parse(localStorage.getItem("userDetails"));if(t){var a=t.displayName,n=t.photoURL,o=t.uid,i=e,l={text:y,timestamp:W.a.firestore.Timestamp.now(),userImg:n,userName:a,uid:o,likeCount:0,likes:{},fireCount:0,fire:{},heartCount:0,heart:{},postImg:i};F.collection("channels").doc(c.id).collection("messages").add(l).then((function(e){console.log("message sent")})).catch((function(e){console.log(e)}))}C("")}}(e)})),N()}))};return Object($.jsx)("div",{children:Object($.jsxs)(X.a,{open:s,onClose:N,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object($.jsxs)("div",{className:o.imageDiv,children:[Object($.jsx)("img",{src:k,alt:a.name,className:o.displayImage}),Object($.jsx)(g.a,{className:o.imageName,children:a.name})]}),Object($.jsx)(Z.a,{id:"alert-dialog-title",children:"Upload Image"}),Object($.jsxs)(Q.a,{children:[Object($.jsx)("form",{autoComplete:"off",onSubmit:function(e){S(e)},children:Object($.jsx)(V.a,{id:"outlined-basic",label:"Add A Message",fullWidth:!0,margin:"normal",variant:"outlined",style:{backgroundColor:"rgb(45, 45, 73)",borderRadius:"5px"},onChange:function(e){C(e.target.value)}})}),Object($.jsx)("div",{style:x,children:Object($.jsxs)(we.a,{display:"flex",alignItems:"center",children:[Object($.jsx)(we.a,{width:"100%",mr:1,children:Object($.jsx)(Se.a,{variant:"determinate",value:b})}),Object($.jsx)(we.a,{minWidth:35,children:Object($.jsxs)(g.a,{variant:"body2",children:[Math.round(b),"%"]})})]})})]}),Object($.jsxs)(_.a,{children:[Object($.jsx)(K.a,{onClick:N,style:{color:"white"},children:"Cancel"}),Object($.jsx)(K.a,{type:"submit",onClick:function(e){return S(e)},color:"primary",autoFocus:!0,variant:"contained",children:"Upload"})]})]})})},De=(a(166),Object(r.a)((function(e){return{root:{flexGrow:1},chat:{position:"relative",height:"calc(100vh - 200px)",paddingLeft:"10px",paddingBottom:"5px",paddingTop:"5px"},footer:{paddingRight:"15px",paddingLeft:"15px",paddingTop:"10px"},message:{width:"100%",color:"white"},roomName:{border:"1px solid #0000004a",borderLeft:0,borderRight:0,padding:"15px",display:"flex",color:"#e5e5e5"},roomNameText:{marginBlockEnd:0,marginBlockStart:0,paddingLeft:"5px"},iconDesign:{fontSize:"1.5em",color:"#e5e5e5"},footerContent:{display:"flex",backgroundColor:"#303753",borderRadius:"5px",alignItems:"center"},inputFile:{display:"none"}}})));var Be=function(){var e=De(),t=Object(J.g)(),a=Object(n.useState)([]),c=Object(l.a)(a,2),o=c[0],i=c[1],r=Object(n.useState)(""),s=Object(l.a)(r,2),d=s[0],j=s[1],u=Object(n.useState)(""),b=Object(l.a)(u,2),p=b[0],m=b[1],x=Object(n.useState)(!1),f=Object(l.a)(x,2),g=f[0],O=f[1],v=Object(n.useState)(!1),y=Object(l.a)(v,2),C=y[0],N=y[1],k=Object(n.useState)(null),w=Object(l.a)(k,2),T=w[0],I=w[1];Object(n.useEffect)((function(){t.id&&(F.collection("channels").doc(t.id).onSnapshot((function(e){j(e.data().channelName)})),F.collection("channels").doc(t.id).collection("messages").orderBy("timestamp","asc").onSnapshot((function(e){i(e.docs.map((function(e){return{id:e.id,data:e.data()}})))})))}),[t]);var D=function(){N(!C)};return Object($.jsxs)("div",{className:e.root,children:[C?Object($.jsx)(Ie,{setState:D,file:T}):null,Object($.jsxs)(S.a,{item:!0,xs:12,className:e.roomName,children:[Object($.jsx)(Y.a,{className:e.iconDesign}),Object($.jsx)("h3",{className:e.roomNameText,children:d})]}),Object($.jsx)(S.a,{item:!0,xs:12,className:e.chat,children:Object($.jsx)(ve.a,{children:o.map((function(e){return Object($.jsx)(Oe,{values:e.data,msgId:e.id},e.id)}))})}),Object($.jsx)("div",{className:e.footer,children:Object($.jsxs)(S.a,{item:!0,xs:12,className:e.footerContent,children:[Object($.jsx)("input",{accept:"image/*",className:e.inputFile,id:"icon-button-file",type:"file",onChange:function(e){return function(e){e.preventDefault(),e.target.files[0]&&(I(e.target.files[0]),D()),e.target.value=null}(e)}}),Object($.jsx)("label",{htmlFor:"icon-button-file",children:Object($.jsx)(h.a,{color:"primary","aria-label":"upload picture",component:"span",children:Object($.jsx)(ke.a,{style:{color:"#b9bbbe"}})})}),Object($.jsx)(h.a,{color:"primary",component:"button",onClick:function(){return O(!g)},children:Object($.jsx)(Ce.a,{style:{color:"#b9bbbe"}})}),g?Object($.jsx)(Ne.a,{onSelect:function(e){m(p+e.native)},theme:"dark"}):null,Object($.jsxs)("form",{autoComplete:"off",style:{width:"100%",display:"flex"},onSubmit:function(e){return function(e){if(e.preventDefault(),p&&t.id){var a=JSON.parse(localStorage.getItem("userDetails"));if(a){var n=a.displayName,c=a.photoURL,o=a.uid,i={text:p,timestamp:W.a.firestore.Timestamp.now(),userImg:c,userName:n,uid:o,likeCount:0,likes:{},fireCount:0,fire:{},heartCount:0,heart:{},postImg:null};F.collection("channels").doc(t.id).collection("messages").add(i).then((function(e){console.log("message sent")})).catch((function(e){console.log(e)}))}m(""),O(!1)}}(e)},children:[Object($.jsx)(V.a,{className:e.message,required:!0,id:"outlined-basic",label:"Enter Message",variant:"outlined",multiline:!0,rows:1,rowsMax:2,value:p,onChange:function(e){m(e.target.value)}}),Object($.jsx)(h.a,{type:"submit",component:"button",children:Object($.jsx)(ye.a,{style:{color:"#b9bbbe"}})})]})]})})]})},Le=a(128),Re=a(242),Ee=a.p+"static/media/login.820cf094.png",ze=Object(r.a)((function(e){return{root:{boxShadow:"0 0 15px rgb(7 15 63 / 33%)",backgroundColor:"#171c30",color:"white"},paper:{marginTop:e.spacing(10),display:"flex",flexDirection:"column",alignItems:"center",paddingBottom:"25px",paddingTop:"35px"},mainImg:{width:"100%",height:"auto"},submit:{margin:e.spacing(3,0,2),color:"#d9d9d9"}}}));var Ge=function(){var e=ze();return Object($.jsx)(Re.a,{component:"div",maxWidth:"xs",className:e.root,children:Object($.jsxs)("div",{className:e.paper,children:[Object($.jsx)("img",{src:Ee,className:e.mainImg,alt:"signup img"}),Object($.jsx)(g.a,{variant:"h5",style:{paddingTop:"15px"},children:"Sign In To  Group Chatting"}),Object($.jsx)(K.a,{variant:"outlined",color:"primary",className:e.submit,startIcon:Object($.jsx)(Le.a,{}),onClick:function(){H.signInWithPopup(A).then((function(e){})).catch((function(e){}))},children:"Sign In With Google"})]})})},Me=a(243),Ue=a(244),We=a(245),Ae=Object(r.a)((function(e){return{root:{paddingTop:"50px",paddingBottom:"25px",color:"#f0f0f0"},heading:{fontSize:"2.2em",fontWeight:"700"},subHeading:{fontSize:"1.6em"},channelDiv:{padding:"15px"},channelContent:{display:"flex",flexDirection:"column",textAlign:"center",padding:"20px",alignItems:"center"},square:{height:"80px",width:"80px",backgroundColor:"#8fabbd66",fontSize:"2rem"},rootChannel:{height:"calc(100vh - 185px)",position:"relative",padding:"15px",overflowY:"scroll"},channelText:{paddingTop:"10px",fontSize:"1.2rem"},channelCard:{backgroundColor:"#1e2439",boxShadow:"0px 3px 4px -1px rgb(0 0 0 / 17%), 0px 1px 1px 0px rgb(0 0 0 / 14%), 0px 1px 3px 0px rgb(0 0 0 / 12%)",color:"rgb(220, 221, 222)"}}}));var Fe=function(){var e=Ae(),t=Object(n.useState)([]),a=Object(l.a)(t,2),c=a[0],o=a[1],i=Object(J.f)();return Object(n.useEffect)((function(){F.collection("channels").orderBy("channelName","asc").onSnapshot((function(e){o(e.docs.map((function(e){return{channelName:e.data().channelName,id:e.id}})))}))}),[]),Object($.jsxs)("div",{style:{backgroundColor:"rgb(34 39 59)"},children:[Object($.jsx)(S.a,{container:!0,className:e.root,children:Object($.jsxs)(S.a,{item:!0,xs:12,style:{textAlign:"center"},children:[Object($.jsx)(g.a,{component:"h1",className:e.heading,children:"Welcome to Group Chatting"}),Object($.jsx)(g.a,{component:"h1",className:e.subHeading,children:"Effortless live chat to hangout with friends!"})]})}),Object($.jsx)(S.a,{container:!0,className:e.rootChannel,children:c.map((function(t){return Object($.jsx)(S.a,{item:!0,xs:6,md:3,className:e.channelDiv,children:Object($.jsx)(Me.a,{className:e.channelCard,children:Object($.jsx)(Ue.a,{style:{display:"flex"},onClick:function(){return e=t.id,void i.push("/channel/".concat(e));var e},children:Object($.jsxs)(We.a,{className:e.channelContent,children:[Object($.jsx)(k.a,{variant:"square",className:e.square,style:{backgroundColor:"#6a9ec066"},children:t.channelName.substr(0,1).toUpperCase()}),Object($.jsx)(g.a,{className:e.channelText,children:t.channelName})]})})})},t.id)}))})]})},He=(a(167),Object(r.a)((function(e){return{root:{display:"flex"},toolbar:e.mixins.toolbar,content:{flexGrow:1,backgroundColor:"#22273b !important",height:"100vh"}}})));var Pe=function(){var e=He(),t=Object(n.useState)(null),a=Object(l.a)(t,2),c=a[0],o=a[1];return Object(n.useEffect)((function(){H.onAuthStateChanged((function(e){e?(F.collection("users").doc(e.uid).get().then((function(t){if(t.exists);else{var a={name:e.displayName,displayName:e.displayName.split(" ")[0],photoURL:e.photoURL,email:e.email,uid:e.uid};F.collection("users").doc(e.uid).set(a).then((function(e){})).catch((function(e){console.log(e)}))}})).catch((function(e){console.log(e)})),o(e.uid)):o(null)}))}),[]),Object($.jsx)("div",{className:"App",children:Object($.jsx)(se.a,{children:c?Object($.jsxs)("div",{className:e.root,children:[Object($.jsx)(pe,{uid:c}),Object($.jsxs)("main",{className:e.content,children:[Object($.jsx)("div",{className:e.toolbar,style:{minHeight:"50px"}}),Object($.jsxs)(J.c,{children:[Object($.jsx)(J.a,{path:"/",exact:!0,children:Object($.jsx)(Fe,{})}),Object($.jsx)(J.a,{path:"/channel/:id",children:Object($.jsx)(Be,{})})]})]})]}):Object($.jsx)(Ge,{})})})},Je=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,253)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,o=t.getLCP,i=t.getTTFB;a(e),n(e),c(e),o(e),i(e)}))};i.a.render(Object($.jsx)(c.a.StrictMode,{children:Object($.jsx)(Pe,{})}),document.getElementById("root")),Je()}},[[168,1,2]]]);
//# sourceMappingURL=main.7587f24f.chunk.js.map